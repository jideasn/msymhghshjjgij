<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="market">


<select id="marketList" parameterType="pageNumber" resultType="market">
	<![CDATA[
		select * from 
			(select rownum rnum, market_no,
			market_title,market_releasedate,market_note,market_img,
			member_id from (select * from market order by 
			market_no desc)) where rnum >= #{startRow} and rnum <= #{endRow}
	]]>
</select>
	
	<select id="marketInfo" parameterType="int" resultType="market">
	<![CDATA[
		select * from market where market_no =#{market_no}
	]]>
	
	</select>
	
	<select id="reviewList" parameterType="pageNumber" resultType="Review">
	<![CDATA[
		select * from (select rownum rnum, review_no,review_title,member_id,review_date from review where market_no =#{market_no}
		order by review_no desc) where rnum>= #{startRow} and rnum <=#{endRow}
	]]>
	</select>
	
	<select id="reviewCount" parameterType="int" resultType="int" >
	 <![CDATA[
	 select count(*) from review where market_no = #{market_no}
	 ]]>
	</select>

</mapper>
